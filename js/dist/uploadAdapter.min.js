"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var UploadAdapter=function(){function n(e){_classCallCheck(this,n),this.loader=e}return _createClass(n,[{key:"upload",value:function(){var r=this;return this.loader.file.then(function(t){return new Promise(function(e,n){r._initRequest(),r._initListeners(e,n,t),r._sendRequest(t)})})}},{key:"_initRequest",value:function(){var e=this.xhr=new XMLHttpRequest;e.open("POST","https://localhost:8000/uploadFileMamagement",!0),e.responseType="json"}},{key:"_initListeners",value:function(n,t){var r=this.xhr,a=(this.loader,"파일을 업로드 할 수 없습니다.");r.addEventListener("error",function(){t(a)}),r.addEventListener("abort",function(){return t()}),r.addEventListener("load",function(){var e=r.response;if(!e||e.error)return t(e&&e.error?e.error.message:a);n({default:e.url})})}},{key:"_sendRequest",value:function(e){var n=new FormData;n.append("upload",e),this.xhr.send(n)}}]),n}();function MyCustomUploadAdapterPlugin(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new UploadAdapter(e)}}
//# sourceMappingURL=uploadAdapter.min.js.map
